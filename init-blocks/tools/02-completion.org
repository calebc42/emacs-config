#+PROPERTY: header-args :tangle ~/.emacs.d/elisp/tools/02-completion.el

* Completion Stack
Configuration for a modern completion system using Vertico, Consult, and Embark.

#+begin_src emacs-lisp
;; A modern, efficient completion UI for the minibuffer.
(use-package vertico
  :init
  (vertico-mode))

;; Display helpful annotations in the completion buffer.
(use-package marginalia
  :after vertico
  :config
  (marginalia-mode))

;; Use a more flexible, orderless completion style.
(use-package orderless
  :custom
  (completion-styles '(orderless basic)))

;; Provides useful commands for searching and navigation.
(use-package consult)

;; The "act" keymap for taking actions on completions.
(use-package embark
  :bind
  (("C-." . embark-act)
   ("M-." . embark-dwim)))

;; This is the missing package that provides integration between Embark and Consult.
;; `use-package` will automatically install it on the next startup.
(use-package embark-consult
  :after (embark consult))

;; Corfu is an alternative to Vertico for in-buffer completion.
;; It's best to use one stack at a time to avoid conflicts.
;; (use-package corfu
;;   :custom
;;   (corfu-auto t)
;;   (corfu-quit-no-match 'separator)
;;   :init
;;   (global-corfu-mode))
#+end_src
